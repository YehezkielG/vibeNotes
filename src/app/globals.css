@import "tailwindcss";

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@variant dark (.dark &);

:root {
  --background: #ffffff;
  --foreground: #000000;
  --card: #ffffff;
  --muted: #f7f7f7;
  --border: #e5e7eb;
  --scrollbar-size: 12px;
  --scrollbar-track: rgba(0,0,0,0.06);
  --scrollbar-thumb: rgba(0,0,0,0.22);
  --scrollbar-thumb-hover: rgba(0,0,0,0.34);
  color-scheme: light;
}

.dark {
  --background: #141414;
  --foreground: #ededed;
  --card: #1f1f1f;
  --muted: #1a1a1a;
  --border: rgba(255,255,255,0.06);
  --scrollbar-track: rgba(255,255,255,0.06);
  --scrollbar-thumb: rgba(255,255,255,0.22);
  --scrollbar-thumb-hover: rgba(255,255,255,0.34);
  color-scheme: dark;
}

body {
  background: var(--background);
  color: var(--foreground);
}

/* Surface / card helpers using CSS variables so components can remain using
  utility classes while still getting consistent colors in dark mode. */
.bg-surface { background-color: var(--background) !important; }
.bg-card { background-color: var(--card) !important; }
.muted-bg { background-color: var(--muted) !important; }
.border-variant { border-color: var(--border) !important; }

/* Dark mode overrides for common Tailwind light-only utilities. This
  helps quickly neutralize leftover `bg-white` classes without editing
  every file. */
.dark .bg-white { background-color: var(--card) !important; color: var(--foreground) !important; }
.dark .bg-white\/70 { background-color: rgba(255,255,255,0.07) !important; }
.dark .bg-white\/80 { background-color: rgba(255,255,255,0.06) !important; }
.dark .border-gray-200 { border-color: var(--border) !important; }

/* Text color overrides in dark mode for common utility classes so content
   remains readable even when components still use light-mode classes. */
.dark .text-gray-800,
.dark .text-gray-900,
.dark .text-black {
  color: var(--foreground) !important;
}
.dark .text-gray-600 {
  color: rgba(255,255,255,0.78) !important;
}
.dark .text-gray-400 {
  color: rgba(255,255,255,0.6) !important;
}
.dark .text-gray-100 {
  color: rgba(255,255,255,0.96) !important;
}

/* Skeleton / pulse adjustments: map pale/light skeleton backgrounds to muted
   dark surfaces so loading states don't appear too bright on dark backgrounds. */
.dark .animate-pulse .bg-white,
.dark .animate-pulse .bg-white\/80,
.dark .animate-pulse .bg-white\/70,
.dark .animate-pulse .bg-gray-200,
.dark .animate-pulse .bg-gray-100 {
  background-color: var(--muted) !important;
}
.dark .rounded-xl.shadow-sm,
.dark .shadow-sm {
  box-shadow: 0 1px 2px rgba(0,0,0,0.6) !important;
}


/* Firefox */
* {
  scrollbar-width: thin;
  scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track);
}

/* WebKit (Chrome, Edge, Safari) */
*::-webkit-scrollbar {
  width: var(--scrollbar-size);
  height: var(--scrollbar-size);
}

*::-webkit-scrollbar-track {
  background: transparent;
  margin: 4px 0;
}

*::-webkit-scrollbar-thumb {
  background-color: var(--scrollbar-thumb);
  border-radius: 999px;
  border: 5px solid transparent; /* creates padding around thumb */
  background-clip: padding-box;
  transition: background-color .15s;
}

*::-webkit-scrollbar-thumb:hover {
  background-color: var(--scrollbar-thumb-hover);
}

*::-webkit-scrollbar-corner {
  background: transparent;
}

/* Global shimmer keyframes for skeletons */
@keyframes shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

.shimmer {
  animation: shimmer 1.6s linear infinite;
}

/* Mobile typography normalization:
   On small screens (below Tailwind's `lg` breakpoint) force any
   larger-than-base text utilities back to the default base font size
   (1rem) so the UI reads at default mobile size. Keep smaller sizes
   (`text-sm`, `text-xs`) intact.
*/
@media (max-width: 1023px) {
  html, body {
    font-size: 16px;
  }

  /* Reset larger Tailwind text utilities to base on mobile. Use
     !important to override utility classes where necessary. */
  .text-lg,
  .text-xl,
  .text-2xl,
  .text-3xl,
  .text-4xl,
  .text-5xl,
  .text-6xl,
  .text-7xl,
  .text-8xl {
    font-size: 1rem !important;
    line-height: 1.5 !important;
  }

  /* Optional: normalize headings that may not use text-* classes */
  h1, h2, h3, h4 {
    font-size: 1rem !important;
    line-height: 1.4 !important;
  }
}

  .note-anchor {
    scroll-margin-top: 96px;
  }

  .note-anchor:target {
    animation: anchorHighlight 2s ease;
    background-color: rgba(254, 243, 199, 0.7);
    border-radius: 0.75rem;
    box-shadow: 0 0 0 2px rgba(249, 115, 22, 0.2);
  }

  @keyframes anchorHighlight {
    0% {
      box-shadow: 0 0 0 0 rgba(249, 115, 22, 0.4);
    }
    50% {
      box-shadow: 0 0 0 4px rgba(249, 115, 22, 0.2);
    }
    100% {
      box-shadow: 0 0 0 0 rgba(249, 115, 22, 0);
    }
  }