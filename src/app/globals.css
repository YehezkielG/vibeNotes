@import "tailwindcss";

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@variant dark (.dark &);

:root {
  --background: #ffffff;
  --foreground: #000000;
  --card: #ffffff;
  --muted: #f7f7f7;
  --border: #e5e7eb;
  --accent: #6366f1; /* default light accent (indigo-500) */
  --accent-weak: rgba(99,102,241,0.08);
  --scrollbar-size: 12px;
  --scrollbar-track: rgba(0,0,0,0.06);
  --scrollbar-thumb: rgba(0,0,0,0.22);
  --scrollbar-thumb-hover: rgba(0,0,0,0.34);
  color-scheme: light;
}

.dark {
  /* Dark palette tuned to match screenshot: very dark page background, */
  --background: #0b0b0b;    /* page background */
  --surface: #0f0f10;       /* slightly lighter surface */
  --card: #141414;          /* card / panel background */
  --muted: #0f0f0f;         /* skeleton / muted surfaces */
  --foreground: #eaeef2;    /* main text */
  --muted-foreground: rgba(234,238,242,0.75);
  --border: rgba(255,255,255,0.04); /* subtle border */
  --accent: #8b5cf6;        /* purple accent used in screenshot */
  --accent-weak: rgba(139,92,246,0.14);
  --scrollbar-track: rgba(255,255,255,0.06);
  --scrollbar-thumb: rgba(255,255,255,0.22);
  --scrollbar-thumb-hover: rgba(255,255,255,0.34);
  color-scheme: dark;
}

body {
  background: var(--background);
  color: var(--foreground);
}

/* Surface / card helpers using CSS variables so components can remain using */
.bg-surface { background-color: var(--background) !important; }
.bg-card { background-color: var(--card) !important; }
.muted-bg { background-color: var(--muted) !important; }
.border-variant { border-color: var(--border) !important; }

/* Skeleton helper: default light tone, maps to muted dark tone in dark mode */
.skeleton-bg { background-color: #e6e6e6; }
.dark .skeleton-bg { background-color: var(--muted) !important; }

/* Accent mappings */
.text-accent { color: var(--accent) !important; }
.bg-accent { background-color: var(--accent) !important; }
.accent-weak { background-color: var(--accent-weak) !important; }

/* Convenience text helpers for theme-aware text colors */
.text-foreground { color: var(--foreground) !important; }
.text-muted { color: var(--muted-foreground) !important; }

/* Dark mode overrides for common Tailwind light-only utilities. This */
.dark .bg-white { background-color: var(--card) !important; color: var(--foreground) !important; }
.dark .bg-white\/70 { background-color: rgba(255,255,255,0.03) !important; }
.dark .bg-white\/80 { background-color: rgba(255,255,255,0.04) !important; }
.dark .border-gray-200 { border-color: var(--border) !important; }

/* Map common Tailwind indigo/violet accents to our accent variable in dark mode */
.dark .text-indigo-600,
.dark .text-indigo-500,
.dark .text-violet-500,
.dark .text-violet-600 {
  color: var(--accent) !important;
}
.dark .bg-indigo-600,
.dark .bg-violet-500 {
  background-color: var(--accent) !important;
}

/* Text color overrides in dark mode for common utility classes so content */
.dark .text-gray-800,
.dark .text-gray-900,
.dark .text-black {
  color: var(--foreground) !important;
}
.dark .text-gray-600 {
  color: rgba(255,255,255,0.78) !important;
}
.dark .text-gray-400 {
  color: rgba(255,255,255,0.6) !important;
}
.dark .text-gray-100 {
  color: rgba(255,255,255,0.96) !important;
}

/* Skeleton / pulse adjustments: map pale/light skeleton backgrounds to muted */
.dark .animate-pulse .bg-white,
.dark .animate-pulse .bg-white\/80,
.dark .animate-pulse .bg-white\/70,
.dark .animate-pulse .bg-gray-200,
.dark .animate-pulse .bg-gray-100 {
  background-color: var(--muted) !important;
}
.dark .rounded-xl.shadow-sm,
.dark .shadow-sm {
  box-shadow: 0 1px 2px rgba(0,0,0,0.6) !important;
}

/* Recharts: reduce pie chart label and legend text size and set color for dark mode */
.recharts-pie text,
.recharts-label text,
.recharts-legend-item text,
.recharts-text {
  font-size: 12px !important;
  fill: var(--foreground) !important;
}
.recharts-legend-item text {
  fill: var(--muted-foreground) !important;
  font-size: 11px !important;
}


/* Firefox */
* {
  scrollbar-width: thin;
  scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track);
}

/* WebKit (Chrome, Edge, Safari) */
*::-webkit-scrollbar {
  width: var(--scrollbar-size);
  height: var(--scrollbar-size);
}

*::-webkit-scrollbar-track {
  background: transparent;
  margin: 4px 0;
}

*::-webkit-scrollbar-thumb {
  background-color: var(--scrollbar-thumb);
  border-radius: 999px;
  border: 5px solid transparent; /* creates padding around thumb */
  background-clip: padding-box;
  transition: background-color .15s;
}

*::-webkit-scrollbar-thumb:hover {
  background-color: var(--scrollbar-thumb-hover);
}

*::-webkit-scrollbar-corner {
  background: transparent;
}

/* Global shimmer keyframes for skeletons */
@keyframes shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

.shimmer {
  animation: shimmer 1.6s linear infinite;
}

/* Mobile typography normalization: */

@media (max-width: 1023px) {
  html, body {
    font-size: 16px;
  }
  /* Force `text-sm` (0.875rem) for any utility that is `text-base` or larger */
  .text-base,
  .text-lg,
  .text-xl,
  .text-2xl,
  .text-3xl,
  .text-4xl,
  .text-5xl,
  .text-6xl,
  .text-7xl,
  .text-8xl {
    font-size: 0.875rem !important; /* text-sm */
    line-height: 1.35 !important;
  }

  /* Normalize headings which may not use text-* utilities */
  h1, h2, h3, h4, h5, h6 {
    font-size: 0.875rem !important;
    line-height: 1.35 !important;
    margin-top: 0.25rem !important;
    margin-bottom: 0.25rem !important;
  }

  /* Ensure common text elements default to text-sm on mobile unless the */
  p:not(.text-xs),
  a:not(.text-xs),
  span:not(.text-xs),
  li:not(.text-xs),
  button:not(.text-xs),
  label:not(.text-xs),
  input:not(.text-xs),
  textarea:not(.text-xs),
  div:not(.text-xs) {
    font-size: 0.875rem !important;
    line-height: 1.35 !important;
  }
}
